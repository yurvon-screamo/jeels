# Promt libs

```json
{
    "topic": "",
    "speach_path": "",
    "subtitles": {},
    "theory_img_path": "",
    "theory_md_content": "",
    "practic_img_path": "",
    "practic_md_content": ""
}
```

Менеджер контента для обучения. Есть пулл контента, группированный по классам. Ты набираешь контент в ленту.

В ленте ты видишь контент, ты можешь:

* Перейти к след. контенту
* Отметить контент как изученный (и перейти к след.)
* Вернуться к предыдущему контенту в ленте
* Отметить контент на усиленное повторение

Порядок контента в ленте формируется исходя из практик интервального повторения (SRS) по пометкам изучено.

Каждый контент имеет вес, чем выше вес тем выше контенте в ленте.

* N5 (720/1900)
  * Глаголы (12/200)
    * 待ちます, 探します, 見つけます (3/?)
  * Существительные (233/600)
  * Прилагательные (113/400)
  * Частицы (5/12)
  * ....

## Generate themes

Общее направление - __THEME.
Пример -__EXAMPLE

````promt
Ты — учитель японского языка. Я учу слова для сдачи JLPT N5. Составь для меня список __THEME, которые мне надо выучить, но предоставь их как группы (в группе 3-5 глаголов). Группируй по смыслу, например антонтимы, синонимы, схожие действия. На крайний случай по кандзи или по звучанию если по другому никак. 

Например - __EXAMPLE. Предоставь результат в виде yaml списка через запятую:

<yaml>
- __EXAMPLE
- __EXAMPLE
- __EXAMPLE
</yaml>
````

## Generate lesson

Тема - __THEME.

````promt
Ты — учитель японского языка. Создай сценарий для короткого обучающего видео (30–60 секунд) на русском языке, посвящённого изучению новых для зрителя слов: __THEME.

Требования:
- Аудитория: русскоязычный студент уровня JLPT N5, уже знакомый с базовой грамматикой N5 (например, частицами に, へ, から, простыми существительными, временем ます-формы и т.п.).
- Язык сценария: только русский.
- Не включай приветствия, пожелания удачи, призывы к действию («попробуйте сами», «повторите вслед» и т.д.).
- Не указывай транскрипцию или произношение — текст будет озвучен профессиональным диктором.
- Используй простые, но естественные, повседневные примеры с лексикой и грамматикой уровня N5.
- Общий объём: достаточно для озвучки за 50–100 секунд (примерно 300–500 слов).
- Отдавай только текст для озвучки, без подписей.

Используй шаблон «слова → определение → пример → повтор» для начала видео:

<example>
Изучим группу глаголов описывающих движение - 来ます, 行きます и 帰ります. Изучим каждый глагол отдельно.
来ます означает «приходить» к говорящему или к месту, где он находится. Так например можно сказать «Друг приходит ко мне в гости» — 友達がうちに来ます。  
行きます означает «идти» или «ехать» от говорящего в другое место. С его помощью можно сказать «Я иду в школу» — わたしは学校に行きます。  
帰ります означает «возвращаться домой». И пример использования - «После работы я возвращаюсь домой» — 仕事のあと、うちに帰ります。  
Обратите внимание: 帰ります почти всегда относится к возвращению домой, а не просто в любое место.
Закрепим: 来ます - «приходить», 行きます - «идти», 帰ります - «возвращаться домой». И еще раз: 来ます - «приходить», 行きます - «идти», 帰ります - «возвращаться домой».
</example>

А для завершения выбери **один из подходящих нарративных форматов**:  
— мини-диалог в кафе или магазине,  
— рассказ о дегустации блюд,  
— сравнение реакций на разную еду,  
— история с неожиданной путаницей вкусов,  
— или любой другой естественный контекст, где эти слова возникают органично.

Цель — помочь зрителю **почувствовать разницу между словами через ситуацию**, а не просто запомнить определения.  

В конце можно еще раз повторить пройденные слова для закрепления.

Обязательно необходимо настроить эмоции и выражения для голоса, чтобы был верно выбран спектр эмоций и учтены естественные речевые элементы. Учитывай эти теги при генерации текста.

Для этого используй теги в скобках:

- Common Emotions:
    - (happy) - Cheerful, upbeat tone
    - (sad) - Melancholic, downcast voice
    - (angry) - Frustrated, aggressive tone
    - (excited) - Energetic, enthusiastic
    - (calm) - Peaceful, relaxed
    - (nervous) - Anxious, uncertain
    - (confident) - Assertive, self-assured
    - (surprised) - Shocked, amazed
- Complex Emotions:
    - (empathetic) - Understanding, caring
    - (sarcastic) - Ironic, mocking
    - (grateful) - Thankful, appreciative
    - (curious) - Inquisitive, interested
    - (frustrated) - Annoyed, exasperated
    - (proud) - Accomplished, satisfied
- Volume & Intensity: (shouting), (whispering), (soft tone)
- Speech Patterns: (in a hurry tone), (screaming)
- Laughter & Sounds: (laughing), (chuckling), (sighing), (sobbing), (groaning), (panting)
- Pauses: (break), (long-break)

**Правила использования тегов**:  
- Эмоциональные теги должны стоять **в начале предложения** (для английского языка).  
- Теги тона и звуков можно размещать в любом месте.  
- Рекомендуется использовать **одну основную эмоцию на предложение**, избегать конфликтующих тегов и не создавать собственные.  

**Дополнительные возможности**:
- Комбинирование тегов: `(sad)(soft tone)`, `(excited)(laughing)`
- Плавные переходы между эмоциями
- Добавление фоновых эффектов: `(audience laughing)`, `(crowd laughing)`
- Тонкая настройка интенсивности: `(slightly sad)`, `(very excited)`

Обязательно используй теги при генерации текста, как эмоции, так и выражения для голоса. Обязательно используй длинные паузы между различными частями текста.

<example>
Сегодня разберём три прилагательных, которые описывают вкус: 甘い, 辛い и 塩辛い.
甘い означает «сладкий». Например: «(happy) Этот торт сладкий» — (break) このケーキは甘いです。
辛い — это «острый» или «пряный». Так говорят о еде с перцем или васаби: «(angry) Этот суп острый» — (break) このスープは辛いです。
塩辛い — «солёный», часто с оттенком «слишком солёный». Например: «(angry) Эта рыба слишком солёная» — (break) この魚は塩辛いです。
Возможно вам поможет в запоминании, что 塩辛い, это 辛い с приставкой 'しお'.
Запомните: 甘い — сладкий, 辛い — острый, 塩辛い — солёный. 
И повторим еще разок: 甘い — сладкий, 辛い — острый, 塩辛い — солёный. (long-break)
Представьте: вы с другом пробуете блюда в японском ресторане. Вы берёте кусочек торта — и говорите: «(happy) Вау, он очень сладкий!» — 甘い！  
Потом ваш друг ест карри и морщится: «(surprised) Ого, как остро!» — 辛い！  
А когда вы пробуете маринованную рыбу, то сразу пьёте воду и говорите: «(nervous) Это слишком солёно!» — 塩辛い！ (long-break)
Обратите внимание: 辛い может означать не только «острый», но и «трудный» в других контекстах, но сейчас мы говорим именно о вкусе.
А 塩辛い почти всегда относится к солёному вкусу, особенно когда соли слишком много. (break)
Таким образом: 甘い — сладкий, 辛い — острый, 塩辛い — солёный.
</example>

Результат: готовый, связный текст сценария, пригодный для озвучки.
````

## Images

### Logo

```promt
Создай превью-логотип для урока '待ちます, 探します, 見つけます' в стиле чиби-манга в макаронных тонах
```

### Story

```promt
Создай чиби-мангу для урока в макаронных тонах 3-4 кадра:

<lesson>

</lesson>
```

## ASR

```bash
uv run whisperx *.mp3 --compute_type int8 -f json
```

> Удалить из джейсона поле word_segments

````promt
Вот транскрибация аудио, но в ней допущена ошибка - вместо японский слов тут транслит. Надо заменить транслит на корректный японский текст, сохранив формат и русский язык.　Результат - ТОЛЬКО json.

<json>

</json>
````
